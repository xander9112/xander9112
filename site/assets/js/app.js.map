{"version":3,"sources":["Emitter.js","spring-simulator.js","spring.js","utils.js","Component.js","GoogleMap.js","YouTubePlayer.js","Application.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;;;;;AAKlB,EAAE,CAAC,OAAO,GAAG,YAAW;AACvB,KAAI,CAAC,cAAc,GAAG,IAAI,EAAE,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;CACrD,CAAC;;AAEF,EAAE,CAAC,OAAO,CAAC,SAAS,GAAG;;;;;;AAMtB,yBAAwB,EAAE,kCAAS,OAAO,EAAE;AAC3C,SAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;;AAE1B,SAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;EACxC;;;;;;;;AAQD,yBAAwB,EAAE,kCAAS,OAAO,EAAE;AAC3C,SAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;;;;AAI1B,MAAI,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;;AAEzC,MAAI,KAAK,EAAE;AACV,UAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;GACxB;;;;AAID,OAAK,GAAG,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;;AAEnD,MAAI,CAAC,KAAK,EAAE;AACX,SAAM,KAAK,CACV,6EAA6E,GAC3E,iDAAiD,CACnD,CAAC;GACF;;AAED,SAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5B;;;;;AAKD,KAAI,EAAE,cAAS,OAAO,qCAAqC;AAC1D,SAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;;AAE1B,MAAI,KAAK,GAAG,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;AACnD,MAAI,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7D,MAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;;AAEpD,GAAC,CAAC,IAAI,CAAC,KAAK,EAAE,UAAS,IAAI,EAAE;AAC5B,OAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;GAChC,CAAC,CAAC;EACH;;;;;;AAMD,GAAE,EAAE,YAAS,OAAO,EAAE,QAAQ,EAAE;AAC/B,MAAI,QAAQ,IAAI,IAAI,EAAE;AACrB,SAAM,KAAK,CAAC,uCAAuC,CAAC,CAAC;GACrD;;AAED,MAAI,CAAC,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;AAC5B,SAAM,KAAK,CAAC,yCAAyC,CAAC,CAAC;GACvD;;AAED,MAAI,KAAK,GAAG,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;;AAEnD,MAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;EACtD;;AAED,IAAG,EAAE,aAAS,OAAO,EAAE;AACtB,SAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;;AAE1B,MAAI,IAAI,CAAC,uCAAuC,CAAC,OAAO,CAAC,EAAE;;AAE1D,OAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;GACpD,MAAM;;AAEN,OAAI,KAAK,GAAG,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;AACnD,OAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;GAC/C;EACD;CACD,CAAC;;AAEF,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC;;AAEzD,EAAE,CAAC,OAAO,CAAC,aAAa,GAAG,YAAW;;;;;;;;;;;;;;AAcrC,KAAI,CAAC,MAAM,GAAG,EAAE,CAAC;CACjB,CAAC;;AAEF,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,GAAG;;;;;;AAMpC,IAAG,EAAE,aAAS,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE;AAC7C,WAAS,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;AAC9B,WAAS,GAAG,SAAS,IAAI,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;;AAExD,MAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;AAC3C,OAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;GAC5B;;AAED,MAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;AACtD,OAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;GACvC;;AAED,MAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC;AACtC,WAAQ,EAAE,QAAQ;GAClB,CAAC,CAAC;EACH;;;;;;;AAOD,SAAQ,EAAE,kBAAS,SAAS,EAAE,SAAS,EAAE;AACxC,WAAS,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;;AAE9B,MAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;AAC3C,UAAO,EAAE,CAAC;GACV;;AAED,MAAI,SAAS,IAAI,IAAI,EAAE;;;AAGtB,OAAI,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;;AAErD,UAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;GAC1C;;AAED,WAAS,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;;AAE9B,MAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;AACtD,UAAO,EAAE,CAAC;GACV;;AAED,SAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC;EACzC;;;;;;;;AAQD,OAAM,EAAE,gBAAS,SAAS,EAAE,SAAS,EAAE;AACtC,MAAI,SAAS,IAAI,IAAI,IAAI,SAAS,IAAI,IAAI,EAAE;AAC3C,SAAM,KAAK,CAAC,2CAA2C,CAAC,CAAC;GACzD;;AAED,MAAI,SAAS,IAAI,IAAI,EAAE;AACtB,OAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;GAClC,MAAM,IAAI,SAAS,IAAI,IAAI,EAAE;AAC7B,OAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;GAClC,MAAM;;;AAGN,YAAS,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;AAC9B,YAAS,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;;AAE9B,OAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;AAChG,WAAO;IACP;;AAED,UAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC;GACzC;EACD;;;;;AAKD,kBAAiB,EAAE,2BAAS,SAAS,EAAE;AACtC,WAAS,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;;AAE9B,MAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;AAC3C,UAAO;GACP;;AAED,SAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;EAC9B;;;;;AAKD,kBAAiB,EAAE,2BAAS,SAAS,EAAE;AACtC,WAAS,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;;AAE9B,GAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,UAAS,gBAAgB,EAAE;AAC9C,OAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;AAChD,WAAO;IACP;;AAED,UAAO,gBAAgB,CAAC,SAAS,CAAC,CAAC;GACnC,CAAC,CAAC;EACH;CACD,CAAC;;;AClQF,EAAE,CAAC,UAAU,GAAG,EAAE,CAAC,UAAU,IAAI,EAAE,CAAC;;;;;AAKpC,EAAE,CAAC,UAAU,CAAC,eAAe,GAAG,YAAW;AAC1C,KAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;AACnB,KAAI,CAAC,SAAS,GAAG,CAAE,IAAI,IAAI,EAAE,AAAC,CAAC;;AAE/B,YAAW,CAAC,YAAW;AACtB,MAAI,GAAG,GAAG,CAAE,IAAI,IAAI,EAAE,AAAC,CAAC;AACxB,MAAI,IAAI,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAA,GAAI,IAAI,CAAC;AACzC,MAAI,EAAE,GAAG,IAAI,CAAC;;AAEd,MAAI,IAAI,GAAG,GAAG,EAAE;;AAEf,OAAI,GAAG,GAAG,CAAC;GACX;;AAED,MAAI,CAAC;MAAE,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM;MAAE,MAAM;MACrC,QAAQ,GAAG,EAAE;MACb,QAAQ;MAAE,WAAW;MAAE,KAAK;MAAE,WAAW;MACzC,mBAAmB;MAAE,aAAa;MAAE,cAAc,CAAC;;AAEtD,OAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;AACxB,SAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC1B,WAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;GAClE;;AAED,SAAO,IAAI,GAAG,QAAQ,EAAE;AACvB,QAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;AACxB,UAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;;AAE1B,QAAI,MAAM,CAAC,OAAO,EAAE;AACnB,cAAS;KACT;;AAED,YAAQ,GAAG,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC;;AAE7C,SAAK,GAAG,CAAC,QAAQ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA,GAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,MAAM,CAAC,WAAW,CAAC,GAAG,MAAM,CAAC,UAAU,GACpG,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA,GAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;;AAE/E,eAAW,GAAG,MAAM,CAAC,SAAS,GAAG,KAAK,GAAG,EAAE,CAAC;;AAE5C,iBAAa,GAAG,MAAM,CAAC,cAAc,CAAC;AACtC,uBAAmB,GAAG,MAAM,CAAC,oBAAoB,CAAC;;AAElD,QAAI,mBAAmB,KAAK,IAAI,EAAE;AACjC,wBAAmB,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,yBAAyB,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;;AAEtF,SAAI,aAAa,KAAK,IAAI,IAAI,mBAAmB,GAAG,aAAa,EAAE;AAClE,mBAAa,GAAG,mBAAmB,CAAC;MACpC;KACD;;AAED,QAAI,aAAa,KAAK,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,aAAa,EAAE;AACpE,gBAAW,GAAG,CAAC,WAAW,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA,GAAI,aAAa,CAAC;KAC1D;;AAED,UAAM,CAAC,SAAS,IAAI,WAAW,GAAG,EAAE,CAAC;AACrC,UAAM,CAAC,SAAS,GAAG,WAAW,CAAC;;AAE/B,QAAI,MAAM,CAAC,aAAa,EAAE;AACzB,gBAAW,GAAG,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC;;AAEhD,SAAI,QAAQ,GAAG,CAAC,IAAI,WAAW,IAAI,CAAC,IAAI,QAAQ,GAAG,CAAC,IAAI,WAAW,IAAI,CAAC,EAAE;AACzE,YAAM,CAAC,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC;AAClC,YAAM,CAAC,SAAS,GAAG,CAAC,CAAC;AACrB,eAAS;MACT;KACD;;AAED,QAAI,MAAM,CAAC,eAAe,KAAK,IAAI,EAAE;AACpC,mBAAc,GAAG,MAAM,CAAC,eAAe,CAAC;;AAExC,SAAI,MAAM,CAAC,SAAS,GAAG,cAAc,CAAC,CAAC,CAAC,EAAE;AACzC,YAAM,CAAC,SAAS,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;AACrC,YAAM,CAAC,SAAS,GAAG,CAAC,CAAC;MACrB,MAAM,IAAI,MAAM,CAAC,SAAS,GAAG,cAAc,CAAC,CAAC,CAAC,EAAE;AAChD,YAAM,CAAC,SAAS,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;AACrC,YAAM,CAAC,SAAS,GAAG,CAAC,CAAC;MACrB;KACD;IACD;;AAED,OAAI,IAAI,EAAE,CAAC;GACX;;AAED,MAAI,CAAC,SAAS,GAAG,GAAG,CAAC;;AAErB,OAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;AACxB,SAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;;AAE1B,OAAI,MAAM,IAAI,IAAI,EAAE;AACnB,aAAS;IACT;;AAED,OAAI,CAAC,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,KAAK,EAAE;AACpC,UAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IACpB;GACD;EACD,EAAE,EAAE,CAAC,CAAC;CACP,CAAC;;AAEF,EAAE,CAAC,UAAU,CAAC,eAAe,CAAC,SAAS,GAAG;AACzC,UAAS,EAAE,mBAAS,MAAM,EAAE;AAC3B,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EAC3B;;AAED,aAAY,EAAE,sBAAS,MAAM,EAAE;AAC9B,MAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;;AAEzC,MAAI,CAAC,IAAI,CAAC,CAAC,EAAE;AACZ,OAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;GAC3B;EACD;CACD,CAAC;;;;AAIF,EAAE,CAAC,UAAU,CAAC,iBAAiB,GAAG,IAAI,EAAE,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC;;;AC1HtE,EAAE,CAAC,UAAU,GAAG,EAAE,CAAC,UAAU,IAAI,EAAE,CAAC;;;;;AAKpC,EAAE,CAAC,UAAU,CAAC,MAAM,GAAG,UAAS,OAAO,EAAE;AACxC,QAAO,GAAG,CAAC,CAAC,MAAM,CAAC;AAClB,QAAM,EAAE,KAAK;AACb,UAAQ,EAAE,CAAC;AACX,gBAAc,EAAE,IAAI;AACpB,QAAM,EAAE,CAAC;AACT,cAAY,EAAE,IAAI;AAClB,UAAQ,EAAE,CAAC;AACX,eAAa,EAAE,IAAI;AACnB,WAAS,EAAE,CAAC;AACZ,SAAO,EAAE,CAAC;AACV,YAAU,EAAE,CAAC;AACb,qBAAmB,EAAE,IAAI;AACzB,0BAAwB,EAAE,IAAI;AAC9B,cAAY,EAAE,KAAK;AACnB,MAAI,EAAE,IAAI;EACV,EAAE,OAAO,IAAI,EAAE,CAAC,CAAC;;AAElB,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC;AAC9B,KAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;AAClC,KAAI,CAAC,eAAe,GAAG,OAAO,CAAC,cAAc,CAAC;AAC9C,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC;AAC9B,KAAI,CAAC,aAAa,GAAG,OAAO,CAAC,YAAY,CAAC;AAC1C,KAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;AAClC,KAAI,CAAC,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC;AAC5C,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC,SAAS,CAAC;AACpC,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC;AAChC,KAAI,CAAC,WAAW,GAAG,OAAO,CAAC,UAAU,CAAC;AACtC,KAAI,CAAC,oBAAoB,GAAG,OAAO,CAAC,mBAAmB,CAAC;AACxD,KAAI,CAAC,yBAAyB,GAAG,OAAO,CAAC,wBAAwB,CAAC;AAClE,KAAI,CAAC,aAAa,GAAG,OAAO,CAAC,YAAY,CAAC;AAC1C,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;;AAElB,KAAI,OAAO,CAAC,IAAI,EAAE;AACjB,MAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EACxB;;AAED,KAAI,CAAC,kBAAkB,EAAE,CAAC;;AAE1B,GAAE,CAAC,UAAU,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;CAChD,CAAC;;AAEF,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,SAAS,GAAG;AAChC,mBAAkB,EAAE,8BAAW;AAC9B,MAAI,IAAI,CAAC,aAAa,KAAK,IAAI,EAAE;AAChC,UAAO;GACP;;AAED,MAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;AACzC,OAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;GACrC,MAAM,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;AAChD,OAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;GACrC;EACD;;AAED,QAAO,EAAE,mBAAW;AACnB,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AAClB,IAAE,CAAC,UAAU,CAAC,iBAAiB,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;EACnD;;AAED,WAAU,EAAE,oBAAS,KAAK,EAAE;AAC3B,MAAI,CAAC,OAAO,IAAI,KAAK,CAAC;AACtB,MAAI,CAAC,kBAAkB,EAAE,CAAC;EAC1B;;AAED,KAAI,EAAE,cAAS,QAAQ,EAAE;AACxB,MAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;EACpC;;AAED,OAAM,EAAE,gBAAS,KAAK,EAAE;AACvB,MAAI,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;AAC1B,UAAO,IAAI,CAAC,OAAO,CAAC;GACpB;;AAED,MAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AACrB,MAAI,CAAC,kBAAkB,EAAE,CAAC;EAC1B;;AAED,aAAY,EAAE,sBAAS,KAAK,EAAE;AAC7B,MAAI,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;AAC1B,UAAO,IAAI,CAAC,aAAa,CAAC;GAC1B;;AAED,MAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,MAAI,CAAC,kBAAkB,EAAE,CAAC;EAC1B;CACD,CAAC;;;;AAIF,CAAC,CAAC,IAAI,CAAC,CACN,QAAQ,EAAE,UAAU,EAAE,gBAAgB,EAAE,UAAU,EAAE,eAAe,EACjE,WAAW,EAAE,SAAS,EAAE,YAAY,GACpC,qBAAqB,EAAE,0BAA0B,EAAE,cAAc,CACnE,EAAE,UAAS,CAAC,EAAE;AACd,GAAE,CAAC,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,UAAS,KAAK,EAAE;AACnD,MAAI,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;AAC1B,UAAO,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;GACrB;;AAED,MAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;EACtB,CAAC;CACF,CAAC,CAAC;;;AC3GH,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;;AAElB,EAAE,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;AACpC,KAAI,CAAC,GAAG,SAAJ,CAAC,GAAe,EACnB,CAAC;AACF,EAAC,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;AAC/B,MAAK,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC;AAC1B,MAAK,CAAC,SAAS,CAAC,WAAW,GAAG,KAAK,CAAC;AACpC,MAAK,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC;CACpC,CAAC;;AAEF,EAAE,CAAC,IAAI,GAAG,UAAU,GAAG,EAAE,QAAQ,EAAE;AAClC,SAAQ,GAAG,CAAC,QAAQ,GAAG,UAAU,GAAG,QAAQ,CAAC,OAAO,CAAC,mCAAmC,EAAE,KAAK,CAAC,CAAC;AACjG,KAAI,EAAE,GAAG,IAAI,MAAM,CAAC,IAAI,GAAG,QAAQ,GAAG,MAAM,GAAG,QAAQ,GAAG,KAAK,EAAE,GAAG,CAAC,CAAC;AACtE,QAAO,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;CAC3B,CAAC;;AAEF,EAAE,CAAC,cAAc,GAAG,UAAU,GAAG,EAAE;AAClC,KAAI,GAAG,GAAG,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC;AAC/B,KAAI,WAAW,GAAG,EAAE,CAAC;AACrB,KAAI,YAAY,GAAG,SAAS,CAAC;;AAE7B,KAAI,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;AAC3B,KAAG,GAAG,GAAG,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;;AAEpC,MAAI,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AACjD,WAAS,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;AAEjC,GAAC,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;AAC9C,OAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC5B,cAAW,CAAE,KAAK,CAAE,CAAC,CAAE,CAAE,GAAG,KAAK,CAAE,CAAC,CAAE,CAAC;GACvC,CAAC,CAAC;EACH;AACD,QAAO,WAAW,CAAC;CACnB,CAAC;;AAEF,EAAE,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE;AACrC,QAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;CAC3C,CAAC;;AAEF,EAAE,CAAC,YAAY,GAAG,UAAU,GAAG,EAAE,GAAG,EAAE;AACrC,QAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,CAAA,AAAC,CAAC,GAAG,GAAG,CAAC;CACzD,CAAC;;AAEF,EAAE,CAAC,mBAAmB,GAAG,UAAU,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE;AACrE,KAAI,SAAS,IAAI,SAAS,EAAE;AAC3B,SAAO,iDAAiD,GACrD,UAAU,GAAG,KAAK,GAAG,YAAY,GAAG,MAAM,GAAG,SAAS,GACtD,+BAA+B,GAAG,OAAO,GAAG,iDAAiD,GAC7F,6DAA6D,CAAC;EACjE,MAAM,IAAI,SAAS,IAAI,OAAO,EAAE;AAChC,SAAO,gCAAgC,GAAG,KAAK,GAAG,YAAY,GAAG,MAAM,GAAG,SAAS,GAChF,gCAAgC,GAAG,OAAO,GAAG,aAAa,GAC1D,sFAAsF,CAAC;EAC1F;;AAED,QAAO,EAAE,CAAC;CACV,CAAC;;AAEF,EAAE,CAAC,WAAW,GAAG,YAAY;;AAE5B,KAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;;AAExC,IAAG,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;AAC/B,IAAG,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;AACzB,IAAG,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;;;;;AAK1B,IAAG,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;;AAEhC,SAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;AAC/B,KAAI,WAAW,GAAG,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC;AACpD,SAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;;AAE/B,QAAO,WAAW,CAAC;CACnB,CAAC;;AAEF,EAAE,CAAC,SAAS,GAAG,UAAU,KAAK,EAAE;AAC/B,KAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;;AAErC,KAAI,CAAC,IAAI,CAAC,YAAY;AACrB,MAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;AACnB,MAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC;AAC3D,MAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,IAAI,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC;;AAE9D,MAAI,QAAQ,EAAE;AACb,OAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAChC,OAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACtC,OAAI,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAC5C,OAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC9B,OAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;AAElC,OAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;AACxD,OAAI,SAAS,GAAG,QAAQ,CAAC,OAAO,EAAE,CAAC;AACnC,OAAI,UAAU,GAAG,QAAQ,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AACzC,OAAI,SAAS,GAAG,QAAQ,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC;AAC9C,OAAI,UAAU,GAAG,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,SAAS,CAAC;AACtE,OAAI,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC;;AAE/E,OAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;AAC1C,QAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC;AACtC,WAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;AACxC,cAAW,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3C,SAAM,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;GACjE;;AAED,MAAI,QAAQ,EAAE;AACb,OAAI,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;AACzB,OAAI,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;AAC3B,OAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC,CAAC;GAC/E;EACD,CAAC,CAAC;;AAEH,UAAS,IAAI,CAAE,MAAM,EAAE;AACtB,MAAI,MAAM,GAAG,EAAE,EAAE;AAChB,UAAO,GAAG,GAAG,MAAM,CAAC;GACpB,MAAM;AACN,UAAO,MAAM,CAAC;GACd;EACD;CACD,CAAC;;AAEF,EAAE,CAAC,aAAa,GAAG,UAAU,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,aAAa,EAAE;AACxE,OAAM,GAAG,CAAC,MAAM,GAAG,EAAE,CAAA,CAAE,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC;AACpD,KAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM;KACvC,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC;KACpD,GAAG,GAAG,AAAC,OAAO,aAAa,KAAK,WAAW,GAAI,GAAG,GAAG,aAAa;KAClE,GAAG,GAAG,AAAC,OAAO,SAAS,KAAK,WAAW,GAAI,GAAG,GAAG,SAAS;KAC1D,CAAC,GAAG,EAAE;KACN,UAAU,GAAG,SAAb,UAAU,CAAa,CAAC,EAAE,IAAI,EAAE;AAC/B,MAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;AAC3B,SAAO,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;EAClC,CAAC;AACH,EAAC,GAAG,CAAC,IAAI,GAAG,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA,CAAE,KAAK,CAAC,GAAG,CAAC,CAAC;AACjE,KAAI,CAAC,CAAE,CAAC,CAAE,CAAC,MAAM,GAAG,CAAC,EAAE;AACtB,GAAC,CAAE,CAAC,CAAE,GAAG,CAAC,CAAE,CAAC,CAAE,CAAC,OAAO,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;EACxD;AACD,KAAI,CAAC,CAAC,CAAE,CAAC,CAAE,IAAI,EAAE,CAAA,CAAE,MAAM,GAAG,IAAI,EAAE;AACjC,GAAC,CAAE,CAAC,CAAE,GAAG,CAAC,CAAE,CAAC,CAAE,IAAI,EAAE,CAAC;AACtB,GAAC,CAAE,CAAC,CAAE,IAAI,IAAI,KAAK,CAAC,IAAI,GAAG,CAAC,CAAE,CAAC,CAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;EACxD;AACD,QAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;CACnB,CAAC;;AAEF,EAAE,CAAC,UAAU,GAAG,UAAU,GAAG,EAAE;AAC9B,KAAI,EAAE,GAAG,EAAE,CAAC;AACZ,IAAG,GAAG,GAAG,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,uCAAuC,CAAC,CAAC;AAChF,KAAI,GAAG,CAAE,CAAC,CAAE,KAAK,SAAS,EAAE;AAC3B,IAAE,GAAG,GAAG,CAAE,CAAC,CAAE,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AACrC,IAAE,GAAG,EAAE,CAAE,CAAC,CAAE,CAAC;EACb,MAAM;AACN,IAAE,GAAG,GAAG,CAAC;EACT;AACD,QAAO,EAAE,CAAC;CACV,CAAC;;AAEF,EAAE,CAAC,aAAa,GAAG,UAAU,OAAO,EAAE;AACrC,aAAY,CAAC;;AAEb,KAAI,OAAO,GAAG,OAAO,CAAC;AACtB,KAAI,OAAO,GAAG,QAAQ,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC;AACrC,KAAI,GAAG,GAAG,QAAQ,CAAC,OAAO,GAAI,OAAO,GAAG,EAAE,AAAC,CAAC,CAAC;;AAE7C,KAAI,OAAO,GAAG,EAAE,EAAE;AACjB,SAAO,SAAO,OAAO,AAAE,CAAA;EACvB;;AAED,KAAI,GAAG,GAAG,EAAE,EAAE;AACb,KAAG,SAAO,GAAG,AAAE,CAAA;EACf;;AAED,QAAO;AACN,SAAO,EAAE,OAAO;AAChB,KAAG,EAAM,GAAG;EACZ,CAAC;CACF,CAAC;;;;;;;;;;;ICjLI,SAAS;WAAT,SAAS;;AACH,UADN,SAAS,GACO;wBADhB,SAAS;;AAEb,6BAFI,SAAS,6CAEL;AACR,IAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;oCAFR,IAAI;AAAJ,OAAI;;;AAIlB,MAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACtB,OAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;GACpB,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AAC7B,OAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACpB,OAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;GACvB;;AAED,MAAI,CAAC,UAAU,EAAE,CAAC;EAClB;;cAbI,SAAS;;SAeJ,sBAAG;AACZ,OAAI,CAAC,WAAW,EAAE,CAAC;AACnB,OAAI,CAAC,WAAW,EAAE,CAAC;AACnB,OAAI,CAAC,MAAM,EAAE,CAAC;GACd;;;SAEU,uBAAG,EACb;;;SAEU,uBAAG,EACb;;;SAEK,kBAAG,EAER;;;QA7BI,SAAS;GAAS,EAAE,CAAC,OAAO;;;;;;;ACAlC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;;AAElB,IAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC;AACvB,IAAM,eAAe,GAAG,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC;;;;;;AAO7C,EAAE,CAAC,SAAS;;;;;;;AAMC,UANQ,SAAS,CAMhB,IAAI,EAAgB;MAAd,OAAO,yDAAG,EAAE;;wBANX,SAAS;;AAO5B,MAAI,cAAc,GAAG;AACpB,SAAM,EAAO;AACZ,OAAG,EAAG,KAAK;AACX,QAAI,EAAE,KAAK;IACX;AACD,cAAW,EAAE,CAAE,UAAU,EAAE,UAAU,CAAE;AACvC,OAAI,EAAS;AACZ,OAAG,EAAG,0BAA0B;AAChC,QAAI,EAAE,CAAE,EAAE,EAAE,EAAE,CAAE;IAChB;AACD,aAAU,EAAG;AACZ,aAAS,EAAW,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,OAAO,GAAG,EAAE;AAC7E,WAAO,EAAa,EAAE;AACtB,QAAI,EAAgB,EAAE;AACtB,WAAO,EAAa,CAAC;AACrB,eAAW,EAAS,IAAI;AACxB,sBAAkB,EAAE,IAAI;AACxB,oBAAgB,EAAI,KAAK;AACzB,eAAW,EAAS,KAAK;AACzB,UAAM,EAAc,CACnB;AACC,kBAAa,EAAE,gBAAgB;AAC/B,kBAAa,EAAE,kBAAkB;AACjC,cAAS,EAAM,CAAE,EAAE,OAAO,EAAE,SAAS,EAAE,CAAE;KACzC,EAAE;AACF,kBAAa,EAAE,WAAW;AAC1B,kBAAa,EAAE,KAAK;AACpB,cAAS,EAAM,CAAE,EAAE,OAAO,EAAE,SAAS,EAAE,CAAE;KACzC,EAAE;AACF,kBAAa,EAAE,KAAK;AACpB,kBAAa,EAAE,KAAK;AACpB,cAAS,EAAM,CAAE,EAAE,YAAY,EAAE,KAAK,EAAE,CAAE;KAC1C,EAAE;AACF,kBAAa,EAAE,MAAM;AACrB,kBAAa,EAAE,KAAK;AACpB,cAAS,EAAM,CAAE,EAAE,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,EAAE,CAAE;KAC9D,EAAE;AACF,kBAAa,EAAE,cAAc;AAC7B,kBAAa,EAAE,KAAK;AACpB,cAAS,EAAM,CAAE,EAAE,YAAY,EAAE,YAAY,EAAE,CAAE;KACjD,EAAE;AACF,kBAAa,EAAE,eAAe;AAC9B,kBAAa,EAAE,aAAa;AAC5B,cAAS,EAAM,CAAE,EAAE,YAAY,EAAE,KAAK,EAAE,CAAE;KAC1C,EAAE;AACF,kBAAa,EAAE,SAAS;AACxB,kBAAa,EAAE,KAAK;AACpB,cAAS,EAAM,CAAE,EAAE,YAAY,EAAE,KAAK,EAAE,CAAE;KAC1C,EAAE;AACF,kBAAa,EAAE,OAAO;AACtB,kBAAa,EAAE,KAAK;AACpB,cAAS,EAAM,CAAE,EAAE,OAAO,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,CAAE;KACjE,CACD;IACD;GACD,CAAC;;AAEF,MAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,MAAI,CAAC,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;;AAEhD,MAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;AAC/B,MAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AACpB,MAAI,CAAC,SAAS,GAAG,IAAI,CAAC;;AAEtB,MAAI,CAAC,UAAU,EAAE,CAAC;EAClB;;cAxEmB,SAAS;;SA0ElB,sBAAG;AACb,eAAY,CAAC;;AAEb,OAAI,CAAC,MAAM,EAAE,CAAC;GACd;;;;;;;;;SAsBS,mBAAC,KAAK,EAAe;OAAb,OAAO,yDAAG,CAAC;;AAC5B,OAAI,QAAQ,YAAA,CAAC;;AAEb,IAAC,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,QAAQ,GAAG,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK,CAAE,CAAC,CAAE,EAAE,KAAK,CAAE,CAAC,CAAE,CAAC,GAAG,QAAQ,GAAG,KAAK,CAAC;;AAEvF,OAAI,IAAI,GAAG,IAAI,CAAC,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;;AAE/C,OAAI,MAAM,GAAG,IAAI,EAAE,CAAC,MAAM,CAAC;AAC1B,YAAQ,EAAE,QAAQ;AAClB,OAAG,EAAO,IAAI,CAAC,GAAG;AAClB,QAAI,EAAM,IAAI;IACd,CAAC,CAAC;;AAEH,KAAE,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,OAAO,EAAE,YAAM;AAC3C,QAAI,OAAO,CAAC,MAAM,EAAE;AACnB,YAAO,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;KACnC,MAAM;;KAEN;IACD,CAAC,CAAC;;AAEH,UAAO,QAAQ,CAAC;GAChB;;;;;;;;SAkEU,sBAAG;AACb,OAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;;AAE3C,OAAI,CAAC,GAAG,GAAG,IAAI,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;AACjE,OAAI,CAAC,MAAM,GAAG,IAAI,EAAE,CAAC,MAAM,CAAC,WAAW,CAAE,CAAC,CAAE,EAAE,WAAW,CAAE,CAAC,CAAE,CAAC,CAAC;;AAEhE,OAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE;AACxD,QAAI,CAAC,kBAAkB,GAAG,IAAI,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9D;;AAED,OAAI,CAAC,WAAW,EAAE,CAAC;GACnB;;;SAEW,uBAAG;AACd,OAAI,CAAC,KAAK,GAAG,EAAE,CAAC;GAChB;;;SAEW,uBAAG;AACd,eAAY,CAAC;;;;AAEb,KAAE,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,YAAM;AAChD,QAAI,MAAK,OAAO,CAAC,MAAM,EAAE;AACxB,WAAK,MAAM,GAAG,MAAK,SAAS,CAAC;KAC7B;IACD,CAAC,CAAC;;AAEH,kBAAe,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,UAAC,KAAK,EAAK;AAC7C,UAAK,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;IACrC,CAAC,CAAC;;AAEH,kBAAe,CAAC,IAAI,CAAC,GAAG,EAAE,cAAc,EAAE,YAAM;AAC/C,QAAI,MAAK,MAAM,EAAE;AAChB,WAAK,KAAK,GAAG,MAAK,MAAM,CAAC;KACzB;IACD,CAAC,CAAC;;AAEH,kBAAe,CAAC,IAAI,CAAC,GAAG,EAAE,WAAW,EAAE,UAAC,KAAK,EAAK;AACjD,UAAK,MAAM,GAAG,IAAI,CAAC;IACnB,CAAC,CAAC;GACH;;;SAEM,kBAAG;AACT,KAAE,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;;AAE3D,OAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;GAC9B;;;OAzJQ,aAAC,KAAK,EAAE;AAChB,OAAI,KAAK,EAAE;AACV,QAAI,CAAC,OAAO,GAAG;AACd,QAAG,EAAK,KAAK,CAAC,GAAG;AACjB,SAAI,EAAI,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAE,CAAC,CAAE,EAAE,KAAK,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC;AACrD,WAAM,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AAC1B,WAAM,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAE,CAAC,CAAE,GAAG,CAAC,EAAE,KAAK,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC;KAC1D,CAAC;IACF;GACD;OAEQ,eAAG;AACX,UAAO,IAAI,CAAC,OAAO,CAAC;GACpB;;;OAmCU,aAAC,KAAK,EAAE;AAClB,OAAI,QAAQ,YAAA,CAAC;;AAEb,IAAC,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,QAAQ,GAAG,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK,CAAE,CAAC,CAAE,EAAE,KAAK,CAAE,CAAC,CAAE,CAAC,GAAG,QAAQ,GAAG,KAAK,CAAC;;AAEvF,OAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;AAC7B,OAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;;AAE1B,OAAI,IAAI,CAAC,SAAS,EAAE;AACnB,QAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACnC,QAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;IAChC;GACD;OAEU,eAAG;AACb,UAAO,IAAI,CAAC,SAAS,CAAC;GACtB;;;OAEa,eAAG;AAChB,eAAY,CAAC;;AAEb,OAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;AAC7B,WAAO,KAAK,CAAC;IACb;;AAED,OAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AACvC,OAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;;AAEvC,OAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE;AAC7B,cAAU,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAA,GAAI,CAAC,CAAC;IAChE;;AAED,OAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE;AAC5B,aAAS,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAA,GAAI,CAAC,CAAC;IAC/D;;AAED,OAAI,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;;AAEhD,UAAO,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;GACpD;;;;;;;;OAMS,aAAC,KAAK,EAAE;AACjB,OAAI,QAAQ,YAAA,CAAC;;AAEb,IAAC,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,QAAQ,GAAG,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK,CAAE,CAAC,CAAE,EAAE,KAAK,CAAE,CAAC,CAAE,CAAC,GAAG,QAAQ,GAAG,KAAK,CAAC;;AAGvF,OAAI,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AACzB,OAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;;AAE1B,OAAI,IAAI,CAAC,SAAS,EAAE;AACnB,QAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC/B,QAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;IAChC;GACD;;;QA1LmB,SAAS;IA0O7B,CAAC;;AAEF,EAAE,CAAC,kBAAkB;AACR,UADiB,kBAAkB,CAClC,GAAG,EAAE;wBADW,kBAAkB;;AAE9C,MAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AACf,MAAI,CAAC,UAAU,GAAG,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;AACvC,MAAI,CAAC,UAAU,CAAC,IAAI,GAAG,YAAY,EAClC,CAAC;AACF,MAAI,CAAC,UAAU,CAAC,KAAK,GAAG,YAAM;AAC7B,eAAY,CAAC;GACb,CAAC;;AAEF,MAAI,CAAC,MAAM,EAAE,CAAC;EACd;;;;;;;cAX4B,kBAAkB;;SAiBjC,uBAAC,MAAM,EAAE;AACtB,OAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC;AACjD,OAAI,KAAK,GAAG,UAAU,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC;AAC1D,UAAO,KAAK,CAAA;GACZ;;;;;;;;SAMa,uBAAC,KAAK,EAAE;AACrB,OAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC;;AAEjD,OAAI,QAAQ,GAAG,UAAU,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC;;AAE5D,UAAO,QAAQ,CAAC;GAChB;;;SAEM,kBAAG;AACT,OAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GACjC;;;QArC4B,kBAAkB;IAsC/C,CAAC;;;;;;;;;;;AC5RF,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;;AAElB,EAAE,CAAC,OAAO;AACG,UADM,OAAO,CACZ,IAAI,EAAE,OAAO,EAAE;wBADV,OAAO;;AAExB,MAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;AAEjB,MAAI,CAAC,OAAO,GAAG;AACd,QAAK,EAAO,KAAK;AACjB,SAAM,EAAM,KAAK;AACjB,aAAU,EAAE;AACX,YAAQ,EAAQ,CAAC;AACjB,YAAQ,EAAQ,CAAC;AACjB,aAAS,EAAO,CAAC;AACjB,eAAW,EAAK,CAAC;AACjB,OAAG,EAAa,EAAE;AAClB,QAAI,EAAY,CAAC;AACjB,kBAAc,EAAE,CAAC;AACjB,OAAG,EAAa,CAAC;IACjB;AACD,UAAO,EAAK,aAAa;GACzB,CAAC;;AAEF,GAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;;AAE/B,MAAI,CAAC,EAAE,GAAG,SAAS,CAAC;;AAEpB,MAAI,CAAC,WAAW,EAAE,CAAC;AACnB,MAAI,CAAC,WAAW,EAAE,CAAC;AACnB,MAAI,CAAC,aAAa,EAAE,CAAC;AACrB,MAAI,CAAC,MAAM,EAAE,CAAC;EACd;;;;;;;cA5BiB,OAAO;;SAmCX,yBAAG;AAChB,eAAY,CAAC;;;;AAEb,OAAI,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,MAAM,EAAE;AACvC,QAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;;AAE3C,OAAG,CAAC,GAAG,GAAG,oCAAoC,CAAC;AAC/C,QAAI,cAAc,GAAG,QAAQ,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAE,CAAC,CAAE,CAAC;AAClE,kBAAc,CAAC,EAAE,GAAG,gBAAgB,CAAC;AACrC,kBAAc,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC;IAC5D;;AAED,OAAI,QAAQ,GAAG,WAAW,CAAC,YAAM;AAChC,QAAI,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;AAC9B,SAAI,EAAE,CAAC,MAAM,EAAE;AACd,mBAAa,CAAC,QAAQ,CAAC,CAAC;AACxB,YAAK,EAAE,GAAG,EAAE,CAAC;AACb,YAAK,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;MAC3C;KACD;IACD,EAAE,CAAC,CAAC,CAAC;GACN;;;SAEW,uBAAG;AACd,OAAI,CAAC,KAAK,GAAG,EAAE,CAAC;GAChB;;;SAEW,uBAAG;AACd,eAAY,CAAC;;;;AAEb,OAAI,CAAC,IAAI,CAAC,EAAE,CAAC,uBAAuB,EAAE,YAAM;AAC3C,WAAK,aAAa,EAAE,CAAC;IACrB,CAAC,CAAC;;AAEH,OAAI,CAAC,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE,YAAM,EACnC,CAAC,CAAC;;AAEH,OAAI,CAAC,IAAI,CAAC,EAAE,CAAC,mBAAmB,EAAE,UAAC,KAAK,EAAE,IAAI,EAAK,EAClD,CAAC,CAAC;GACH;;;SAEa,yBAAG;AAChB,eAAY,CAAC;;;;AAEb,OAAI,aAAa,GAAG;AACnB,UAAM,EAAE;AACP,cAAS,EAAQ,iBAAC,KAAK,EAAK;AAC3B,aAAK,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;MACnC;AACD,oBAAe,EAAE,uBAAC,KAAK,EAAK;AAC3B,aAAK,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;MAC9C;KACD;IACD,CAAC;;AAEF,IAAC,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;;AAEtC,OAAI,CAAC,MAAM,GAAG,IAAI,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC;GAC7D;;;SAEmB,6BAAC,KAAK,EAAE;AAC3B,OAAI,KAAK,CAAC,IAAI,IAAI,EAAE,CAAC,WAAW,CAAC,OAAO,EAAE,EACzC;GACD;;;SAGM,kBAAG;AACT,eAAY,CAAC;GACb;;;QAvGiB,OAAO;IAwGzB,CAAC;;AAEF,EAAE,CAAC,aAAa;WAAS,aAAa;;AACzB,UADY,aAAa,CACxB,IAAI,EAAE,OAAO,EAAE;AAC3B,cAAY,CAAC;;wBAFU,aAAa;;AAIpC,6BAJuB,aAAa,6CAI9B,IAAI,EAAE,OAAO,EAAC;EACpB;;cALuB,aAAa;;SAiB7B,mBAAG;AACV,eAAY,CAAC;AACb,UAAO,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;GAC7B;;;SAuDS,qBAAG;AACZ,eAAY,CAAC;AACb,OAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;GACxB;;;SAEU,sBAAG;AACb,eAAY,CAAC;AACb,OAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;GACzB;;;SAES,qBAAG;AACZ,eAAY,CAAC;AACb,OAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;GACxB;;;OAjFQ,aAAC,MAAM,EAAE;AACjB,eAAY,CAAC;;AAEb,OAAI,MAAM,EAAE;AACX,QAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IACnB,MAAM;AACN,QAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IACrB;GACD;;;OAOU,eAAG;AACb,eAAY,CAAC;AACb,UAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;GAC/B;OAEU,aAAC,MAAM,EAAE;AACnB,eAAY,CAAC;AACb,OAAI,QAAQ,CAAC,MAAM,CAAC,GAAG,GAAG,EAAE;AAC3B,UAAM,GAAG,GAAG,CAAC;IACb;;AAED,OAAI,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;AACzB,UAAM,GAAG,CAAC,CAAC;IACX;;AAED,OAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;GAC9B;;;OAEQ,aAAC,IAAI,EAAE;AACf,eAAY,CAAC;;AAEb,OAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;GAC7C;;;;;;;;;;;;;;;OAae,eAAG;AAClB,eAAY,CAAC;;AAEb,UAAO,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAA;GACnC;;;OAEe,eAAG;AAClB,eAAY,CAAC;;AAEb,UAAO,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;GACpC;;;OAEY,eAAG;AACf,eAAY,CAAC;;AAEb,UAAO,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;GACjC;;;QAzEuB,aAAa;GAAS,EAAE,CAAC,OAAO,CAyFxD,CAAC;;;;;;;ACrMF,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;;IAEZ,WAAW;AACJ,UADP,WAAW,GACD;wBADV,WAAW;;AAEf,MAAI,CAAC,QAAQ,EAAE,CAAC;AAChB,MAAI,CAAC,kBAAkB,EAAE,CAAC;EAC1B;;cAJI,WAAW;;SAMP,oBAAG;AACX,eAAY,CAAC;;AAEb,OAAI,UAAU,GAAG,CAAC,CAAC,2BAA2B,CAAC,CAAC;;AAEhD,aAAU,CAAC,IAAI,CAAC,YAAY;AAC3B,QAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;AACnB,QAAI,UAAU,GAAG,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC3C,QAAI,GAAG,GAAG,IAAI,CAAC;AACf,QAAI,MAAM,GAAG,EAAE,CAAC;;AAEhB,MAAE,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAY;AAClC,SAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;;AAEnE,SAAI,CAAC,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;AACxC,OAAC,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;MACtF,MAAM;AACN,UAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;MACnE;KACD,CAAC,CAAC;;AAEH,QAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;;AAEhC,SAAI,YAAY,GAAG,CAAC,CAAC,eAAe,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,eAAe,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;;AAEzF,WAAM,GAAG;AACR,SAAG,EAAE,YAAY;MACjB,CAAA;KACD;;AAED,QAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;AACjC,WAAM,GAAG;AACR,UAAI,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,WAAW;MACvD,CAAA;KACD;;AAED,OAAG,GAAG,IAAI,EAAE,CAAC,SAAS,CAAC,UAAU,EAAE;AAClC,gBAAW,EAAE,UAAU;AACvB,WAAM,EAAO,MAAM;AACnB,SAAI,EAAS;AACZ,SAAG,EAAE,+BAA+B;MACpC;AACD,eAAU,EAAG;AACZ,iBAAW,EAAE,IAAI;AACjB,YAAM,EAAO,EAAE;MACf;KACD,CAAC,CAAC;;AAEH,QAAI,SAAS,GAAG,CAAC,CAAC,mCAAmC,CAAC,CAAC;;AAEvD,aAAS,CAAC,IAAI,CAAC,YAAY;;AAE1B,SAAI,cAAc,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;;AAEpE,MAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,KAAK,EAAE,QAAQ,EAAK;AACxC,UAAI,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AACrC,UAAI,GAAG,GAAG,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,cAAc,GAAG,QAAQ,CAAC;;AAE9D,aAAO,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;AACzC,aAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;;AAE3B,SAAG,CAAC,KAAK,GAAG,GAAG,CAAC;MAChB,CAAC,CAAC;KACH,CAAC,CAAC;IACH,CAAC,CAAC;GACH;;;SAEkB,8BAAG;AACrB,eAAY,CAAC;;AAEb,IAAC,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,YAAY;AACxC,QAAI,MAAM,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC;;AAE7B,QAAI,MAAM,GAAG,IAAI,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,oBAAoB,CAAC,EAAE;AAC1D,UAAK,EAAO,MAAM;AAClB,WAAM,EAAM,KAAK;AACjB,YAAO,EAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AAC9B,eAAU,EAAE;AACX,eAAS,EAAE,CAAC;MACZ;KACD,CAAC,CAAC;;AAEH,QAAI,IAAI,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC;;AAE/B,UAAM,CAAC,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE,YAAY;AAC3C,WAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;;AAE7B,MAAC,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC;AAC/B,aAAO,EAAE,CAAC;MACV,CAAC,CAAC;;AAEH,SAAI,QAAQ,GAAG,IAAI,CAAC;;AAEpB,SAAI,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;;AAEhD,MAAC,CAAC,cAAc,CAAC,CAAC,IAAI,CAAI,OAAO,CAAC,OAAO,SAAI,OAAO,CAAC,GAAG,CAAG,CAAC;;AAE5D,WAAM,CAAC,IAAI,CAAC,EAAE,CAAC,mBAAmB,EAAE,YAAY;;AAE/C,UAAI,MAAM,CAAC,WAAW,KAAK,CAAC,EAAE;AAC7B,eAAQ,GAAG,WAAW,CAAC,YAAM;AAC5B,YAAI,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AAC/C,YAAI,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;;AAEzC,YAAI,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AACnD,SAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAI,OAAO,CAAC,OAAO,SAAI,OAAO,CAAC,GAAG,CAAG,CAAC;;AAEhE,SAAC,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC;AAC/B,gBAAO,EAAE,QAAQ,CAAE,AAAC,WAAW,GAAG,QAAQ,GAAI,GAAG,CAAE;SACnD,CAAC,CAAC;QACH,EAAE,IAAI,CAAC,CAAC;OACT,MAAM;AACN,oBAAa,CAAC,QAAQ,CAAC,CAAC;OACxB;MAGD,CAAC,CAAC;;AAEH,SAAI,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,KAAK,EAAE;AAC7C,WAAK,CAAC,cAAc,EAAE,CAAC;AACvB,YAAM,CAAC,SAAS,EAAE,CAAC;;AAEnB,OAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;MAC5D,CAAC,CAAC;;AAEH,SAAI,CAAC,EAAE,CAAC,OAAO,EAAE,WAAW,EAAE,UAAU,KAAK,EAAE;AAC9C,WAAK,CAAC,cAAc,EAAE,CAAC;AACvB,YAAM,CAAC,UAAU,EAAE,CAAC;;AAEpB,OAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;MAC5D,CAAC,CAAC;;AAEH,SAAI,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,KAAK,EAAE;AAC7C,WAAK,CAAC,cAAc,EAAE,CAAC;AACvB,YAAM,CAAC,SAAS,EAAE,CAAC;;AAEnB,OAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;MAC5D,CAAC,CAAC;;AAEH,SAAI,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,KAAK,EAAE;AAC7C,WAAK,CAAC,cAAc,EAAE,CAAC;AACvB,YAAM,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;;AAEhC,UAAI,MAAM,CAAC,OAAO,EAAE,EAAE;AACrB,QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;AAChD,QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;AAC5C,QAAC,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;OACxC,MAAM;AACN,QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AAC/C,QAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;AAC7C,QAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;OACrC;MACD,CAAC,CAAC;;AAEH,MAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC;AACxB,aAAO,EAAE,MAAM,CAAC,MAAM;MACtB,CAAC,CAAC;;AAEH,SAAI,CAAC,EAAE,CAAC,OAAO,EAAE,kBAAkB,EAAE,UAAU,KAAK,EAAE;AACrD,WAAK,CAAC,cAAc,EAAE,CAAC;AACvB,UAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;AACxB,QAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC;AACxB,eAAO,EAAE,CAAC;QACV,CAAC,CAAC;AACH,cAAO;OACP;;AAED,YAAM,CAAC,MAAM,IAAI,EAAE,CAAC;;AAEpB,OAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC;AACxB,cAAO,EAAE,MAAM,CAAC,MAAM;OACtB,CAAC,CAAC;MACH,CAAC,CAAC;;AAEH,SAAI,CAAC,EAAE,CAAC,OAAO,EAAE,iBAAiB,EAAE,UAAU,KAAK,EAAE;AACpD,WAAK,CAAC,cAAc,EAAE,CAAC;AACvB,UAAI,MAAM,CAAC,MAAM,KAAK,GAAG,EAAE;AAC1B,QAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC;AACxB,eAAO,EAAE,GAAG;QACZ,CAAC,CAAC;;AAEH,cAAO;OACP;;AAED,YAAM,CAAC,MAAM,IAAI,EAAE,CAAC;;AAEpB,OAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC;AACxB,cAAO,EAAE,MAAM,CAAC,MAAM;OACtB,CAAC,CAAC;MACH,CAAC,CAAC;KACH,CAAC,CAAC;IACH,CAAC,CAAC;GACH;;;QAtMI,WAAW;;;AAyMjB,CAAC,CAAC,YAAY;AACb,GAAE,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;AACtB,GAAE,CAAC,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC3B,GAAE,CAAC,WAAW,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;AACnC,GAAE,CAAC,YAAY,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;AACrC,GAAE,CAAC,eAAe,GAAG,EAAE,CAAC;;AAExB,GAAE,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAY;AAClC,IAAE,CAAC,WAAW,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;AACnC,IAAE,CAAC,YAAY,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;EACrC,CAAC,CAAC;;AAEH,GAAE,CAAC,WAAW,GAAG,IAAI,WAAW,EAAE,CAAC;;AAEnC,GAAE,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;CACnB,CAAC,CAAC","file":"app.js","sourcesContent":["/**\r\n * Base emitter class.\r\n *\r\n * Dependencies: underscore.js.\r\n *\r\n * Example:\r\n *\r\n *   var e = new $$.Emitter();\r\n *\r\n *   e.on('event1', function() {});\r\n *   e.on('event2.namespace1', function() {});\r\n *   e.on('event2.namespace2', function() {});\r\n *   e.on('event3a.namespace3', function() {});\r\n *   e.on('event3b.namespace3', function() {});\r\n *   e.on('event3c.namespace3', function() {});\r\n *   e.emit('event1', { Some event data here... });\r\n *   e.emit('event2.namespace1');\r\n *   e.off('event1');\r\n *   e.off('event2.namespace1');\r\n *   e.off('event2.namespace2');\r\n *   e.off('.namespace3');\r\n *\r\n * Multiple event data arguments are supported.\r\n *\r\n *   e.on('event10', function(a, b, c) { ... });\r\n *   e.emit('event10', 2, 'qwe', { x: 3, y: 'zxc' });\r\n *\r\n * Also #trigger() is an alias for #emit().\r\n *\r\n * NOTE: The namespace name \"*\" has a special meaning in $$.Emitter.ItemContainer.\r\n */\r\n\r\nvar $$ = $$ || {};\r\n\r\n/**\r\n * @constructor\r\n */\r\n$$.Emitter = function() {\r\n\tthis._itemContainer = new $$.Emitter.ItemContainer();\r\n};\r\n\r\n$$.Emitter.prototype = {\r\n\t/**\r\n\t * @param {String} eventId\r\n\t * @return {Boolean}\r\n\t * @private\r\n\t */\r\n\t_isEventIdJustANamespace: function(eventId) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\treturn !!eventId.match(/^\\.[a-z\\d]+$/i);\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t * @return {Array} [eventName, namespace]\r\n\t * @throws {Error}\r\n\t * @private\r\n\t */\r\n\t_parseAndValidateEventId: function(eventId) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\t// Either a single event name.\r\n\r\n\t\tvar match = eventId.match(/^[a-z\\d]+$/i);\r\n\r\n\t\tif (match) {\r\n\t\t\treturn [match[0], null];\r\n\t\t}\r\n\r\n\t\t// Or an event name + a namespace name.\r\n\r\n\t\tmatch = eventId.match(/^([a-z\\d]+)\\.([a-z\\d]+)$/i);\r\n\r\n\t\tif (!match) {\r\n\t\t\tthrow Error(\r\n\t\t\t\t'Full event names should not be empty, should consist of letters and numbers'\r\n\t\t\t\t+ ' and may contain only single dot in the middle.'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn [match[1], match[2]];\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t */\r\n\temit: function(eventId /*, eventData1, eventData2, ... */) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\tvar parts = this._parseAndValidateEventId(eventId);\r\n\t\tvar items = this._itemContainer.getItems(parts[0], parts[1]);\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\r\n\t\t_.each(items, function(item) {\r\n\t\t\titem.callback.apply(null, args);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventId\r\n\t * @param {Function} callback\r\n\t */\r\n\ton: function(eventId, callback) {\r\n\t\tif (callback == null) {\r\n\t\t\tthrow Error('An event callback should be provided.');\r\n\t\t}\r\n\r\n\t\tif (!_.isFunction(callback)) {\r\n\t\t\tthrow Error('An event callback should be a function.');\r\n\t\t}\r\n\r\n\t\tvar parts = this._parseAndValidateEventId(eventId);\r\n\r\n\t\tthis._itemContainer.add(parts[0], parts[1], callback);\r\n\t},\r\n\r\n\toff: function(eventId) {\r\n\t\teventId = String(eventId);\r\n\r\n\t\tif (this._isEventNameWithNamespaceJustANamespace(eventId)) {\r\n\t\t\t// Just a namespace.\r\n\t\t\tthis._itemContainer.remove(null, eventId.substr(1));\r\n\t\t} else {\r\n\t\t\t// Event name and possible namespace.\r\n\t\t\tvar parts = this._parseAndValidateEventId(eventId);\r\n\t\t\tthis._itemContainer.remove(parts[0], parts[1]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$$.Emitter.prototype.trigger = $$.Emitter.prototype.emit;\r\n\r\n$$.Emitter.ItemContainer = function() {\r\n\t/* Items:\r\n\t *\r\n\t * {\r\n\t *   eventName1: {\r\n\t *     namespace1: [ { callback, *... }, ... ],\r\n\t *     namespace2: [ ... ]\r\n\t *     ...\r\n\t *   },\r\n\t *\r\n\t *   eventName2: { ... }\r\n\t *   ...\r\n\t * }\r\n\t */\r\n\tthis._items = {};\r\n};\r\n\r\n$$.Emitter.ItemContainer.prototype = {\r\n\t/**\r\n\t * @param {String} eventName\r\n\t * @param {String}|null namespace\r\n\t * @param {Function} callback\r\n\t */\r\n\tadd: function(eventName, namespace, callback) {\r\n\t\teventName = String(eventName);\r\n\t\tnamespace = namespace == null ? '*' : String(namespace);\r\n\r\n\t\tif (!this._items.hasOwnProperty(eventName)) {\r\n\t\t\tthis._items[eventName] = {};\r\n\t\t}\r\n\r\n\t\tif (!this._items[eventName].hasOwnProperty(namespace)) {\r\n\t\t\tthis._items[eventName][namespace] = [];\r\n\t\t}\r\n\r\n\t\tthis._items[eventName][namespace].push({\r\n\t\t\tcallback: callback\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventName\r\n\t * @param {String}|null namespace\r\n\t * @return {Array}\r\n\t */\r\n\tgetItems: function(eventName, namespace) {\r\n\t\teventName = String(eventName);\r\n\r\n\t\tif (!this._items.hasOwnProperty(eventName)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tif (namespace == null) {\r\n\t\t\t// Return items for all namespaces of the event.\r\n\r\n\t\t\tvar arraysOfItems = _.values(this._items[eventName]);\r\n\r\n\t\t\treturn _.union.apply(null, arraysOfItems);\r\n\t\t}\r\n\r\n\t\tnamespace = String(namespace);\r\n\r\n\t\tif (!this._items[eventName].hasOwnProperty(namespace)) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\treturn this._items[eventName][namespace];\r\n\t},\r\n\r\n\t/**\r\n\t * Removes by event name, by namespace or by both.\r\n\t *\r\n\t * @param {String}|null eventName\r\n\t * @param {String}|null namespace\r\n\t */\r\n\tremove: function(eventName, namespace) {\r\n\t\tif (eventName == null && namespace == null) {\r\n\t\t\tthrow Error('Only one of the arguments can be omitted.');\r\n\t\t}\r\n\r\n\t\tif (namespace == null) {\r\n\t\t\tthis.removeByEventName(eventName);\r\n\t\t} else if (eventName == null) {\r\n\t\t\tthis.removeByNamespace(namespace);\r\n\t\t} else {\r\n\t\t\t// Both eventName and namespace are not null.\r\n\r\n\t\t\teventName = String(eventName);\r\n\t\t\tnamespace = String(namespace);\r\n\r\n\t\t\tif (!this._items.hasOwnProperty(eventName) || !this._items[eventName].hasOwnProperty(namespace)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdelete this._items[eventName][namespace];\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} eventName\r\n\t */\r\n\tremoveByEventName: function(eventName) {\r\n\t\teventName = String(eventName);\r\n\r\n\t\tif (!this._items.hasOwnProperty(eventName)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdelete this._items[eventName];\r\n\t},\r\n\r\n\t/**\r\n\t * @param {String} namespace\r\n\t */\r\n\tremoveByNamespace: function(namespace) {\r\n\t\tnamespace = String(namespace);\r\n\r\n\t\t_.each(this._items, function(itemsByNamespace) {\r\n\t\t\tif (!itemsByNamespace.hasOwnProperty(namespace)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdelete itemsByNamespace[namespace];\r\n\t\t});\r\n\t}\r\n};\r\n","$$.Simulation = $$.Simulation || {};\r\n\r\n/**\r\n * Не нужно использовать этот класс напрямую. Нужно использовать $$.Simulation.Spring.\r\n */\r\n$$.Simulation.SpringSimulator = function() {\r\n\tvar self = this;\r\n\r\n\tthis._springs = [];\r\n\tthis._lastTime = +(new Date());\r\n\r\n\tsetInterval(function() {\r\n\t\tvar now = +(new Date());\r\n\t\tvar time = (now - self._lastTime) / 1000;\r\n\t\tvar dt = 0.01;\r\n\r\n\t\tif (time > 0.2) {\r\n\t\t\t// Если жс работает слишком медленно, замедлить симуляцию.\r\n\t\t\ttime = 0.2;\r\n\t\t}\r\n\r\n\t\tvar i, ni = self._springs.length, spring\r\n\t\t\t, dampings = []\r\n\t\t\t, distance, newDistance, force, newVelocity\r\n\t\t\t, targetVelocityLimit, velocityLimit, positionLimits;\r\n\r\n\t\tfor (i = 0; i < ni; i++) {\r\n\t\t\tspring = self._springs[i];\r\n\t\t\tdampings.push(2 * Math.sqrt(spring._rigidness) * spring._damping);\r\n\t\t}\r\n\r\n\t\twhile (time > 0.000001) {\r\n\t\t\tfor (i = 0; i < ni; i++) {\r\n\t\t\t\tspring = self._springs[i];\r\n\t\t\t\t\r\n\t\t\t\tif (spring._frozen) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdistance = spring._target - spring._position;\r\n\r\n\t\t\t\tforce = (distance >= 0 ? 1 : -1) * Math.pow(Math.abs(distance), spring._forcePower) * spring._rigidness\r\n\t\t\t\t\t- (spring._velocity >= 0 ? 1 : -1) * Math.abs(spring._velocity) * dampings[i];\r\n\r\n\t\t\t\tnewVelocity = spring._velocity + force * dt;\r\n\r\n\t\t\t\tvelocityLimit = spring._velocityLimit;\r\n\t\t\t\ttargetVelocityLimit = spring._targetVelocityLimit;\r\n\r\n\t\t\t\tif (targetVelocityLimit !== null) {\r\n\t\t\t\t\ttargetVelocityLimit *= Math.pow(spring._targetVelocityLimitPower, Math.abs(distance));\r\n\r\n\t\t\t\t\tif (velocityLimit === null || targetVelocityLimit < velocityLimit) {\r\n\t\t\t\t\t\tvelocityLimit = targetVelocityLimit;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (velocityLimit !== null && Math.abs(newVelocity) > velocityLimit) {\r\n\t\t\t\t\tnewVelocity = (newVelocity >= 0 ? 1 : -1) * velocityLimit;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tspring._position += newVelocity * dt;\r\n\t\t\t\tspring._velocity = newVelocity;\r\n\r\n\t\t\t\tif (spring._stopAtTarget) {\r\n\t\t\t\t\tnewDistance = spring._target - spring._position;\r\n\r\n\t\t\t\t\tif (distance > 0 && newDistance <= 0 || distance < 0 && newDistance >= 0) {\r\n\t\t\t\t\t\tspring._position = spring._target;\r\n\t\t\t\t\t\tspring._velocity = 0;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (spring._positionLimits !== null) {\r\n\t\t\t\t\tpositionLimits = spring._positionLimits;\r\n\r\n\t\t\t\t\tif (spring._position < positionLimits[0]) {\r\n\t\t\t\t\t\tspring._position = positionLimits[0];\r\n\t\t\t\t\t\tspring._velocity = 0;\r\n\t\t\t\t\t} else if (spring._position > positionLimits[1]) {\r\n\t\t\t\t\t\tspring._position = positionLimits[1];\r\n\t\t\t\t\t\tspring._velocity = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttime -= dt;\r\n\t\t}\r\n\r\n\t\tself._lastTime = now;\r\n\r\n\t\tfor (i = 0; i < ni; i++) {\r\n\t\t\tspring = self._springs[i];\r\n\r\n\t\t\tif (spring == null) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (!spring._frozen && spring._step) {\r\n\t\t\t\tspring._step.call();\r\n\t\t\t}\r\n\t\t}\r\n\t}, 20);\r\n};\r\n\r\n$$.Simulation.SpringSimulator.prototype = {\r\n\taddSpring: function(spring) {\r\n\t\tthis._springs.push(spring);\r\n\t},\r\n\r\n\tdeleteSpring: function(spring) {\r\n\t\tvar i = _.indexOf(this._springs, spring);\r\n\r\n\t\tif (i != -1) {\r\n\t\t\tthis._springs.splice(i, 1);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Создать один \"глобальный\" экземпляр.\r\n\r\n$$.Simulation.__springSimulator = new $$.Simulation.SpringSimulator();\r\n","$$.Simulation = $$.Simulation || {};\r\n\r\n/**\r\n * @constructor\r\n */\r\n$$.Simulation.Spring = function(options) {\r\n\toptions = _.extend({\r\n\t\tfrozen: false,\r\n\t\tposition: 0,\r\n\t\tpositionLimits: null,\r\n\t\ttarget: 0,\r\n\t\ttargetLimits: null,\r\n\t\tvelocity: 0,\r\n\t\tvelocityLimit: null,\r\n\t\trigidness: 1,\r\n\t\tdamping: 1,\r\n\t\tforcePower: 1,\r\n\t\ttargetVelocityLimit: null,\r\n\t\ttargetVelocityLimitPower: 1.25,\r\n\t\tstopAtTarget: false,\r\n\t\tstep: null\r\n\t}, options || {});\r\n\r\n\tthis._frozen = options.frozen;\r\n\tthis._position = options.position;\r\n\tthis._positionLimits = options.positionLimits;\r\n\tthis._target = options.target;\r\n\tthis._targetLimits = options.targetLimits;\r\n\tthis._velocity = options.velocity;\r\n\tthis._velocityLimit = options.velocityLimit;\r\n\tthis._rigidness = options.rigidness;\r\n\tthis._damping = options.damping;\r\n\tthis._forcePower = options.forcePower;\r\n\tthis._targetVelocityLimit = options.targetVelocityLimit;\r\n\tthis._targetVelocityLimitPower = options.targetVelocityLimitPower;\r\n\tthis._stopAtTarget = options.stopAtTarget;\r\n\tthis._step = null;\r\n\r\n\tif (options.step) {\r\n\t\tthis.step(options.step);\r\n\t}\r\n\r\n\tthis._applyTargetLimits();\r\n\r\n\t$$.Simulation.__springSimulator.addSpring(this);\r\n};\r\n\r\n$$.Simulation.Spring.prototype = {\r\n\t_applyTargetLimits: function() {\r\n\t\tif (this._targetLimits === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this._target < this._targetLimits[0]) {\r\n\t\t\tthis._target = this._targetLimits[0];\r\n\t\t} else if (this._target > this._targetLimits[1]) {\r\n\t\t\tthis._target = this._targetLimits[1];\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis._step = null;\r\n\t\t$$.Simulation.__springSimulator.deleteSpring(this);\r\n\t},\r\n\r\n\tmoveTarget: function(delta) {\r\n\t\tthis._target += delta;\r\n\t\tthis._applyTargetLimits();\r\n\t},\r\n\r\n\tstep: function(callback) {\r\n\t\tthis._step = _.bind(callback, this);\r\n\t},\r\n\r\n\ttarget: function(value) {\r\n\t\tif (arguments.length == 0) {\r\n\t\t\treturn this._target;\r\n\t\t}\r\n\r\n\t\tthis._target = value;\r\n\t\tthis._applyTargetLimits();\r\n\t},\r\n\r\n\ttargetLimits: function(value) {\r\n\t\tif (arguments.length == 0) {\r\n\t\t\treturn this._targetLimits;\r\n\t\t}\r\n\r\n\t\tthis._targetLimits = value;\r\n\t\tthis._applyTargetLimits();\r\n\t}\r\n};\r\n\r\n// Создать методы-аксессоры.\r\n\r\n_.each([\r\n\t'frozen', 'position', 'positionLimits', 'velocity', 'velocityLimit'\r\n\t, 'rigidness', 'damping', 'forcePower',\r\n\t, 'targetVelocityLimit', 'targetVelocityLimitPower', 'stopAtTarget'\r\n], function(k) {\r\n\t$$.Simulation.Spring.prototype[k] = function(value) {\r\n\t\tif (arguments.length == 0) {\r\n\t\t\treturn this['_' + k];\r\n\t\t}\r\n\r\n\t\tthis['_' + k] = value;\r\n\t};\r\n});\r\n","var $$ = $$ || {};\r\n\r\n$$.extend = function (Child, Parent) {\r\n\tvar F = function () {\r\n\t};\r\n\tF.prototype = Parent.prototype;\r\n\tChild.prototype = new F();\r\n\tChild.prototype.constructor = Child;\r\n\tChild.superclass = Parent.prototype;\r\n};\r\n\r\n$$.trim = function (str, charlist) {\r\n\tcharlist = !charlist ? ' \\\\s\\xA0' : charlist.replace(/([\\[\\]\\(\\)\\.\\?\\/\\*\\{\\}\\+\\$\\^\\:])/g, '\\$1');\r\n\tvar re = new RegExp('^[' + charlist + ']+|[' + charlist + ']+$', 'g');\r\n\treturn str.replace(re, '');\r\n};\r\n\r\n$$.parseUrlParams = function (url) {\r\n\tvar url = url || location.href;\r\n\tvar searchParam = {};\r\n\tvar regExpParams = /\\?{1}.+/;\r\n\r\n\tif (regExpParams.test(url)) {\r\n\t\turl = url.replace(regExpParams, '');\r\n\r\n\t\tvar urlParams = location.search.replace('?', '');\r\n\t\turlParams = urlParams.split('&');\r\n\r\n\t\t_.each(urlParams, function (item, index, list) {\r\n\t\t\tvar param = item.split('=');\r\n\t\t\tsearchParam[ param[ 0 ] ] = param[ 1 ];\r\n\t\t});\r\n\t}\r\n\treturn searchParam;\r\n};\r\n\r\n$$.clamp = function (value, min, max) {\r\n\treturn Math.min(max, Math.max(min, value));\r\n};\r\n\r\n$$.getRandomInt = function (min, max) {\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\n$$.makeVideoPlayerHtml = function (videoType, videoId, width, height) {\r\n\tif (videoType == 'youtube') {\r\n\t\treturn '<iframe class=\"youtube-player\" type=\"text/html\"'\r\n\t\t\t+ ' width=\"' + width + '\" height=\"' + height + '\" src=\"'\r\n\t\t\t+ 'http://www.youtube.com/embed/' + videoId + '?autoplay=0&rel=0&amp;controls=0&amp;showinfo=0'\r\n\t\t\t+ '\" frameborder=\"0\" wmode=\"opaque\" autoplay=\"false\"></iframe>';\r\n\t} else if (videoType == 'vimeo') {\r\n\t\treturn '<iframe wmode=\"opaque\" width=\"' + width + '\" height=\"' + height + '\" src=\"'\r\n\t\t\t+ 'http://player.vimeo.com/video/' + videoId + '?autoplay=1'\r\n\t\t\t+ '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\r\n\t}\r\n\r\n\treturn '';\r\n};\r\n\r\n$$.ScrollWidth = function () {\r\n\t// создадим элемент с прокруткой\r\n\tvar div = document.createElement('div');\r\n\r\n\tdiv.style.overflowY = 'scroll';\r\n\tdiv.style.width = '50px';\r\n\tdiv.style.height = '50px';\r\n\r\n\t// при display:none размеры нельзя узнать\r\n\t// нужно, чтобы элемент был видим,\r\n\t// visibility:hidden - можно, т.к. сохраняет геометрию\r\n\tdiv.style.visibility = 'hidden';\r\n\r\n\tdocument.body.appendChild(div);\r\n\tvar scrollWidth = div.offsetWidth - div.clientWidth;\r\n\tdocument.body.removeChild(div);\r\n\r\n\treturn scrollWidth;\r\n};\r\n\r\n$$.FakerInfo = function (block) {\r\n\tvar news = block.find('.news-block');\r\n\r\n\tnews.each(function () {\r\n\t\tvar item = $(this);\r\n\t\tvar hasImage = item.find('img').length == 0 ? false : true;\r\n\t\tvar hasTitle = item.find('.title').length == 0 ? false : true;\r\n\r\n\t\tif (hasTitle) {\r\n\t\t\tvar title = item.find('.title');\r\n\t\t\tvar subtitle = item.find('.subtitle');\r\n\t\t\tvar description = item.find('.description');\r\n\t\t\tvar date = item.find('.date');\r\n\t\t\tvar rating = item.find('.rating');\r\n\r\n\t\t\tvar timeDate = new Date(faker.date.between(2010, 2014));\r\n\t\t\tvar curr_date = timeDate.getDate();\r\n\t\t\tvar curr_month = timeDate.getMonth() + 1;\r\n\t\t\tvar curr_year = timeDate.getFullYear() % 1000;\r\n\t\t\tvar formatDate = curr_date + \".\" + numb(curr_month) + \".\" + curr_year;\r\n\t\t\tvar formatTime = numb(timeDate.getHours()) + \":\" + numb(timeDate.getMinutes());\r\n\r\n\t\t\tdate.text(formatDate + ', ' + formatTime);\r\n\t\t\ttitle.text(faker.lorem.words(1)[ 0 ]);\r\n\t\t\tsubtitle.text(faker.lorem.paragraph(1));\r\n\t\t\tdescription.text(faker.lorem.paragraph(1));\r\n\t\t\trating.text($$.getRandomInt(0, 4) + '.' + $$.getRandomInt(0, 9));\r\n\t\t}\r\n\r\n\t\tif (hasImage) {\r\n\t\t\tvar width = item.width();\r\n\t\t\tvar height = item.height();\r\n\t\t\titem.find('img').attr('src', faker.image.imageUrl(width, height, 'transport'));\r\n\t\t}\r\n\t});\r\n\r\n\tfunction numb (number) {\r\n\t\tif (number < 10) {\r\n\t\t\treturn '0' + number;\r\n\t\t} else {\r\n\t\t\treturn number;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$$.number_format = function (number, decimals, dec_point, thousands_sep) {\r\n\tnumber = (number + '').replace(/[^0-9+\\-Ee.]/g, '');\r\n\tvar n = !isFinite(+number) ? 0 : +number,\r\n\t\tprec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n\t\tsep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,\r\n\t\tdec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n\t\ts = '',\r\n\t\ttoFixedFix = function (n, prec) {\r\n\t\t\tvar k = Math.pow(10, prec);\r\n\t\t\treturn '' + Math.round(n * k) / k;\r\n\t\t};\r\n\ts = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\r\n\tif (s[ 0 ].length > 3) {\r\n\t\ts[ 0 ] = s[ 0 ].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\r\n\t}\r\n\tif ((s[ 1 ] || '').length < prec) {\r\n\t\ts[ 1 ] = s[ 1 ] || '';\r\n\t\ts[ 1 ] += new Array(prec - s[ 1 ].length + 1).join('0');\r\n\t}\r\n\treturn s.join(dec);\r\n};\r\n\r\n$$.getVideoID = function (url) {\r\n\tvar id = '';\r\n\turl = url.replace(/(>|<)/gi, '').split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\r\n\tif (url[ 2 ] !== undefined) {\r\n\t\tid = url[ 2 ].split(/[^0-9a-z_\\-]/i);\r\n\t\tid = id[ 0 ];\r\n\t} else {\r\n\t\tid = url;\r\n\t}\r\n\treturn id;\r\n};\r\n\r\n$$.secondsToTime = function (seconds) {\r\n\t\"use strict\";\r\n\r\n\tlet allTime = seconds;\r\n\tlet minutes = parseInt(seconds / 60);\r\n\tlet sec = parseInt(seconds - (minutes * 60));\r\n\r\n\tif (minutes < 10) {\r\n\t\tminutes = `0${minutes}`\r\n\t}\r\n\r\n\tif (sec < 10) {\r\n\t\tsec = `0${sec}`\r\n\t}\r\n\r\n\treturn {\r\n\t\tminutes: minutes,\r\n\t\tsec:     sec\r\n\t};\r\n};\r\n","class Component extends $$.Emitter {\r\n\tconstructor(...args) {\r\n\t\tsuper();\r\n\t\t$$.Emitter.call(this);\r\n\r\n\t\tif (args.length === 1) {\r\n\t\t\tthis.root = args[0];\r\n\t\t} else if (args.length === 2) {\r\n\t\t\tthis.root = args[0];\r\n\t\t\tthis.options = args[1];\r\n\t\t}\r\n\r\n\t\tthis.initialize();\r\n\t}\r\n\r\n\tinitialize() {\r\n\t\tthis._cacheNodes();\r\n\t\tthis._bindEvents();\r\n\t\tthis._ready();\r\n\t}\r\n\r\n\t_cacheNodes() {\r\n\t}\r\n\r\n\t_bindEvents() {\r\n\t}\r\n\r\n\t_ready() {\r\n\r\n\t}\r\n}\r\n","var $$ = $$ || {};\r\n\r\nconst GM = google.maps;\r\nconst GMEventListener = GM.event.addListener;\r\n\r\n\r\n/**\r\n * @type {GoogleMap}\r\n */\r\n\r\n$$.GoogleMap = class GoogleMap {\r\n\t/**\r\n\t *\r\n\t * @param root\r\n\t * @param options\r\n\t */\r\n\tconstructor (root, options = {}) {\r\n\t\tvar defaultOptions = {\r\n\t\t\toffset:      {\r\n\t\t\t\ttop:  false,\r\n\t\t\t\tleft: false\r\n\t\t\t},\r\n\t\t\tcoordinates: [ 51.6753557, 38.9559867 ],\r\n\t\t\ticon:        {\r\n\t\t\t\turl:  '/assets/images/point.png',\r\n\t\t\t\tsize: [ 32, 48 ]\r\n\t\t\t},\r\n\t\t\tmapOptions:  {\r\n\t\t\t\tmapTypeId:          !_.isUndefined(window.google) ? GM.MapTypeId.ROADMAP : '', //MapTypeId.SATELLITE, MapTypeId.HYBRID, MapTypeId.TERRAIN\r\n\t\t\t\tmaxZoom:            45,\r\n\t\t\t\tzoom:               15,\r\n\t\t\t\tminZoom:            0,\r\n\t\t\t\tzoomControl:        true,\r\n\t\t\t\toverviewMapControl: true,\r\n\t\t\t\tdisableDefaultUI:   false,\r\n\t\t\t\tscrollwheel:        false,\r\n\t\t\t\tstyles:             [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"featureType\": \"administrative\",\r\n\t\t\t\t\t\t\"elementType\": \"labels.text.fill\",\r\n\t\t\t\t\t\t\"stylers\":     [ { \"color\": \"#444444\" } ]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"featureType\": \"landscape\",\r\n\t\t\t\t\t\t\"elementType\": \"all\",\r\n\t\t\t\t\t\t\"stylers\":     [ { \"color\": \"#f2f2f2\" } ]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"featureType\": \"poi\",\r\n\t\t\t\t\t\t\"elementType\": \"all\",\r\n\t\t\t\t\t\t\"stylers\":     [ { \"visibility\": \"off\" } ]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"featureType\": \"road\",\r\n\t\t\t\t\t\t\"elementType\": \"all\",\r\n\t\t\t\t\t\t\"stylers\":     [ { \"saturation\": -100 }, { \"lightness\": 45 } ]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"featureType\": \"road.highway\",\r\n\t\t\t\t\t\t\"elementType\": \"all\",\r\n\t\t\t\t\t\t\"stylers\":     [ { \"visibility\": \"simplified\" } ]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"featureType\": \"road.arterial\",\r\n\t\t\t\t\t\t\"elementType\": \"labels.icon\",\r\n\t\t\t\t\t\t\"stylers\":     [ { \"visibility\": \"off\" } ]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"featureType\": \"transit\",\r\n\t\t\t\t\t\t\"elementType\": \"all\",\r\n\t\t\t\t\t\t\"stylers\":     [ { \"visibility\": \"off\" } ]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\"featureType\": \"water\",\r\n\t\t\t\t\t\t\"elementType\": \"all\",\r\n\t\t\t\t\t\t\"stylers\":     [ { \"color\": \"#0088f6\" }, { \"visibility\": \"on\" } ]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.root = root;\r\n\t\tthis.options = _.merge(defaultOptions, options);\r\n\r\n\t\tthis.MercatorProjection = null;\r\n\t\tthis.MapIcon = null;\r\n\t\tthis.MapCenter = null;\r\n\r\n\t\tthis.initialize();\r\n\t}\r\n\r\n\tinitialize () {\r\n\t\t\"use strict\";\r\n\r\n\t\tthis._ready();\r\n\t}\r\n\r\n\tset icon (value) {\r\n\t\tif (value) {\r\n\t\t\tthis.MapIcon = {\r\n\t\t\t\turl:    value.url,\r\n\t\t\t\tsize:   new GM.Size(value.size[ 0 ], value.size[ 1 ]),\r\n\t\t\t\torigin: new GM.Point(0, 0),\r\n\t\t\t\tanchor: new GM.Point(value.size[ 0 ] / 2, value.size[ 1 ])\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tget icon () {\r\n\t\treturn this.MapIcon;\r\n\t}\r\n\r\n\t/**\r\n\t * @param value\r\n\t * value может быть массив координат или объект google.maps.LatLng\r\n\t */\r\n\r\n\tsetMarker (value, element = $) {\r\n\t\tlet position;\r\n\r\n\t\t_.isArray(value) ? position = new GM.LatLng(value[ 0 ], value[ 1 ]) : position = value;\r\n\r\n\t\tlet icon = this.icon !== null ? this.icon : '';\r\n\r\n\t\tlet marker = new GM.Marker({\r\n\t\t\tposition: position,\r\n\t\t\tmap:      this.map,\r\n\t\t\ticon:     icon\r\n\t\t});\r\n\r\n\t\tGM.event.addListener(marker, 'click', () => {\r\n\t\t\tif (element.length) {\r\n\t\t\t\telement.trigger('click', position);\r\n\t\t\t} else {\r\n\t\t\t\t//this.panTo = marker.getPosition();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn position;\r\n\t}\r\n\r\n\t/**\r\n\t * @param value\r\n\t * value может быть массив координат или объект google.maps.LatLng\r\n\t */\r\n\tset center (value) {\r\n\t\tlet position;\r\n\r\n\t\t_.isArray(value) ? position = new GM.LatLng(value[ 0 ], value[ 1 ]) : position = value;\r\n\r\n\t\tthis.map.setCenter(position);\r\n\t\tthis.MapCenter = position;\r\n\r\n\t\tif (this.mapOffset) {\r\n\t\t\tthis.map.setCenter(this.mapOffset);\r\n\t\t\tthis.MapCenter = this.mapOffset;\r\n\t\t}\r\n\t}\r\n\r\n\tget center () {\r\n\t\treturn this.MapCenter;\r\n\t}\r\n\r\n\tget mapOffset () {\r\n\t\t\"use strict\";\r\n\r\n\t\tif (!this.MercatorProjection) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet offsetLeft = this.root.width() / 2;\r\n\t\tlet offsetTop = this.root.height() / 2;\r\n\r\n\t\tif (this.options.offset.left) {\r\n\t\t\toffsetLeft = (this.root.width() - this.options.offset.left) / 2;\r\n\t\t}\r\n\r\n\t\tif (this.options.offset.top) {\r\n\t\t\toffsetTop = (this.root.height() - this.options.offset.top) / 2;\r\n\t\t}\r\n\r\n\t\tlet point = new GM.Point(offsetLeft, offsetTop);\r\n\r\n\t\treturn this.MercatorProjection.PixelToLatLng(point);\r\n\t}\r\n\r\n\t/**\r\n\t * @param value\r\n\t * value может быть массив координат или объект google.maps.LatLng\r\n\t */\r\n\tset panTo (value) {\r\n\t\tlet position;\r\n\r\n\t\t_.isArray(value) ? position = new GM.LatLng(value[ 0 ], value[ 1 ]) : position = value;\r\n\r\n\r\n\t\tthis.map.panTo(position);\r\n\t\tthis.MapCenter = position;\r\n\r\n\t\tif (this.mapOffset) {\r\n\t\t\tthis.map.panTo(this.mapOffset);\r\n\t\t\tthis.MapCenter = this.mapOffset;\r\n\t\t}\r\n\t}\r\n\r\n\t_createMap () {\r\n\t\tlet coordinates = this.options.coordinates;\r\n\r\n\t\tthis.map = new GM.Map(this.root.get(0), this.options.mapOptions);\r\n\t\tthis.center = new GM.LatLng(coordinates[ 0 ], coordinates[ 1 ]);\r\n\r\n\t\tif (this.options.offset.left || this.options.offset.top) {\r\n\t\t\tthis.MercatorProjection = new $$.MercatorProjection(this.map);\r\n\t\t}\r\n\r\n\t\tthis._bindEvents();\r\n\t}\r\n\r\n\t_cacheNodes () {\r\n\t\tthis.nodes = {};\r\n\t}\r\n\r\n\t_bindEvents () {\r\n\t\t\"use strict\";\r\n\r\n\t\tGM.event.addListenerOnce(this.map, 'idle', () => {\r\n\t\t\tif (this.options.offset) {\r\n\t\t\t\tthis.center = this.mapOffset;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tGMEventListener(this.map, 'click', (event) => {\r\n\t\t\tthis.root.trigger('mapClick', event);\r\n\t\t});\r\n\r\n\t\tGMEventListener(this.map, 'zoom_changed', () => {\r\n\t\t\tif (this.center) {\r\n\t\t\t\tthis.panTo = this.center;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tGMEventListener(this.map, 'dragstart', (event) => {\r\n\t\t\tthis.center = null;\r\n\t\t});\r\n\t}\r\n\r\n\t_ready () {\r\n\t\tGM.event.addDomListener(window, 'load', this._createMap());\r\n\r\n\t\tthis.icon = this.options.icon;\r\n\t}\r\n};\r\n\r\n$$.MercatorProjection = class MercatorProjection {\r\n\tconstructor (map) {\r\n\t\tthis.map = map;\r\n\t\tthis.mapOverlay = new GM.OverlayView();\r\n\t\tthis.mapOverlay.draw = function () {\r\n\t\t};\r\n\t\tthis.mapOverlay.onAdd = () => {\r\n\t\t\t\"use strict\";\r\n\t\t};\r\n\r\n\t\tthis._ready();\r\n\t}\r\n\r\n\t/**\r\n\t * Computes the pixel coordinates of the given geographical location in the map's container element.\r\n\t * @param {google.maps.LatLng} latLng Position to display\r\n\t */\r\n\tLatLngToPixel (latLng) {\r\n\t\tvar projection = this.mapOverlay.getProjection();\r\n\t\tvar point = projection.fromLatLngToContainerPixel(latLng);\r\n\t\treturn point\r\n\t}\r\n\r\n\t/**\r\n\t * SComputes the geographical coordinates from pixel coordinates in the map's container.\r\n\t * @param {google.maps.Point} Point Position to display\r\n\t */\r\n\tPixelToLatLng (point) {\r\n\t\tvar projection = this.mapOverlay.getProjection();\r\n\r\n\t\tvar newPoint = projection.fromContainerPixelToLatLng(point);\r\n\r\n\t\treturn newPoint;\r\n\t}\r\n\r\n\t_ready () {\r\n\t\tthis.mapOverlay.setMap(this.map);\r\n\t}\r\n};\r\n","var $$ = $$ || {};\r\n\r\n$$.YouTube = class YouTube {\r\n\tconstructor (root, options) {\r\n\t\tthis.root = root;\r\n\r\n\t\tthis.options = {\r\n\t\t\twidth:      '640',\r\n\t\t\theight:     '360',\r\n\t\t\tplayerVars: {\r\n\t\t\t\tautoplay:       0,\r\n\t\t\t\tcontrols:       0,\r\n\t\t\t\tdisablekb:      1,\r\n\t\t\t\tenablejsapi:    1,\r\n\t\t\t\tend:            '',\r\n\t\t\t\tloop:           0,\r\n\t\t\t\tmodestbranding: 1,\r\n\t\t\t\trel:            0\r\n\t\t\t},\r\n\t\t\tvideoId:    'M7lc1UVf-VE'\r\n\t\t};\r\n\r\n\t\t_.merge(this.options, options);\r\n\r\n\t\tthis.YT = undefined;\r\n\r\n\t\tthis._cacheNodes();\r\n\t\tthis._bindEvents();\r\n\t\tthis._createScript();\r\n\t\tthis._ready();\r\n\t}\r\n\r\n\t/**\r\n\t * Загружаем скрипт в браузер\r\n\t * @private\r\n\t */\r\n\r\n\t_createScript () {\r\n\t\t\"use strict\";\r\n\r\n\t\tif (!$('script#js-youtube-api').length) {\r\n\t\t\tvar tag = document.createElement('script');\r\n\r\n\t\t\ttag.src = \"https://www.youtube.com/iframe_api\";\r\n\t\t\tvar firstScriptTag = document.getElementsByTagName('script')[ 0 ];\r\n\t\t\tfirstScriptTag.id = 'js-youtube-api';\r\n\t\t\tfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n\t\t}\r\n\r\n\t\tvar interval = setInterval(() => {\r\n\t\t\tif (!_.isUndefined(window.YT)) {\r\n\t\t\t\tif (YT.loaded) {\r\n\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\tthis.YT = YT;\r\n\t\t\t\t\tthis.root.trigger('YouTubeIframeAPIReady');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 1);\r\n\t}\r\n\r\n\t_cacheNodes () {\r\n\t\tthis.nodes = {};\r\n\t}\r\n\r\n\t_bindEvents () {\r\n\t\t\"use strict\";\r\n\r\n\t\tthis.root.on('YouTubeIframeAPIReady', () => {\r\n\t\t\tthis._createPlayer();\r\n\t\t});\r\n\r\n\t\tthis.root.on('PlayerCreated', () => {\r\n\t\t});\r\n\r\n\t\tthis.root.on('PlayerStateChange', (event, data) => {\r\n\t\t});\r\n\t}\r\n\r\n\t_createPlayer () {\r\n\t\t\"use strict\";\r\n\r\n\t\tvar playerOptions = {\r\n\t\t\tevents: {\r\n\t\t\t\t'onReady':       (event) => {\r\n\t\t\t\t\tthis.root.trigger('PlayerCreated');\r\n\t\t\t\t},\r\n\t\t\t\t'onStateChange': (event) => {\r\n\t\t\t\t\tthis.root.trigger('PlayerStateChange', event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t_.assign(playerOptions, this.options);\r\n\r\n\t\tthis.player = new YT.Player(this.root.get(0), playerOptions);\r\n\t}\r\n\r\n\tonPlayerStateChange (event) {\r\n\t\tif (event.data == YT.PlayerState.PLAYING) {\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t_ready () {\r\n\t\t\"use strict\";\r\n\t}\r\n};\r\n\r\n$$.YouTubePlayer = class YouTubePlayer extends $$.YouTube {\r\n\tconstructor (root, options) {\r\n\t\t\"use strict\";\r\n\r\n\t\tsuper(root, options)\r\n\t}\r\n\r\n\tset mute (isMute) {\r\n\t\t\"use strict\";\r\n\r\n\t\tif (isMute) {\r\n\t\t\tthis.player.mute();\r\n\t\t} else {\r\n\t\t\tthis.player.unMute();\r\n\t\t}\r\n\t}\r\n\r\n\tisMuted () {\r\n\t\t\"use strict\";\r\n\t\treturn this.player.isMuted();\r\n\t}\r\n\r\n\tget volume () {\r\n\t\t\"use strict\";\r\n\t\treturn this.player.getVolume();\r\n\t}\r\n\r\n\tset volume (volume) {\r\n\t\t\"use strict\";\r\n\t\tif (parseInt(volume) > 100) {\r\n\t\t\tvolume = 100;\r\n\t\t}\r\n\r\n\t\tif (parseInt(volume) < 0) {\r\n\t\t\tvolume = 0;\r\n\t\t}\r\n\r\n\t\tthis.player.setVolume(volume);\r\n\t}\r\n\r\n\tset size (size) {\r\n\t\t\"use strict\";\r\n\r\n\t\tthis.player.setSize(size.width, size.height);\r\n\t}\r\n\r\n\t/**\r\n\t * Возвращает состояние проигрывателя. Возможные значения:\r\n\t * @returns\r\n\t * -1 – воспроизведение видео не началось\r\n\t * 0 – воспроизведение видео завершено\r\n\t * 1 – воспроизведение\r\n\t * 2 – пауза\r\n\t * 3 – буферизация\r\n\t * 5 – видео находится в очереди\r\n\t */\r\n\r\n\tget playerState () {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn this.player.getPlayerState()\r\n\t}\r\n\r\n\tget CurrentTime () {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn this.player.getCurrentTime();\r\n\t}\r\n\r\n\tget duration () {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn this.player.getDuration();\r\n\t}\r\n\r\n\tplayVideo () {\r\n\t\t\"use strict\";\r\n\t\tthis.player.playVideo();\r\n\t}\r\n\r\n\tpauseVideo () {\r\n\t\t\"use strict\";\r\n\t\tthis.player.pauseVideo();\r\n\t}\r\n\r\n\tstopVideo () {\r\n\t\t\"use strict\";\r\n\t\tthis.player.stopVideo();\r\n\t}\r\n};\r\n","var $$ = $$ || {};\r\n\r\nclass Application {\r\n\tconstructor () {\r\n\t\tthis._initMap();\r\n\t\tthis._initYouTubePlayer();\r\n\t}\r\n\r\n\t_initMap () {\r\n\t\t\"use strict\";\r\n\r\n\t\tvar mapElement = $('.js-map-left, .js-map-top');\r\n\r\n\t\tmapElement.each(function () {\r\n\t\t\tvar item = $(this);\r\n\t\t\tlet coodinates = mapElement.data('coords');\r\n\t\t\tlet map = null;\r\n\t\t\tlet offset = {};\r\n\r\n\t\t\t$$.window.on('resize', function () {\r\n\t\t\t\titem.height($$.windowHeight - $('.ui.top.menu').outerHeight(true));\r\n\r\n\t\t\t\tif ($('.js-addresses').hasClass('left')) {\r\n\t\t\t\t\t$('.js-addresses').height($$.windowHeight - $('.ui.top.menu').outerHeight(true) - 25);\r\n\t\t\t\t} else {\r\n\t\t\t\t\titem.height($$.windowHeight - $('.ui.top.menu').outerHeight(true));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (item.hasClass('js-map-top')) {\r\n\r\n\t\t\t\tvar offsetheight = $('.js-addresses').offset().top + $('.js-addresses').outerHeight(true)\r\n\r\n\t\t\t\toffset = {\r\n\t\t\t\t\ttop: offsetheight\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (item.hasClass('js-map-left')) {\r\n\t\t\t\toffset = {\r\n\t\t\t\t\tleft: $('.js-addresses').offset().left - $$.windowWidth\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tmap = new $$.GoogleMap(mapElement, {\r\n\t\t\t\tcoordinates: coodinates,\r\n\t\t\t\toffset:      offset,\r\n\t\t\t\ticon:        {\r\n\t\t\t\t\turl: '/site/assets/images/point.png'\r\n\t\t\t\t},\r\n\t\t\t\tmapOptions:  {\r\n\t\t\t\t\tscrollwheel: true,\r\n\t\t\t\t\tstyles:      ''\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar addresses = $('.js-addresses .js-list-group-item');\r\n\r\n\t\t\taddresses.each(function () {\r\n\r\n\t\t\t\tlet markerPosition = map.setMarker($(this).data('coords'), $(this));\r\n\r\n\t\t\t\t$(this).on('click', (event, position) => {\r\n\t\t\t\t\tlet element = $(event.currentTarget);\r\n\t\t\t\t\tlet pos = _.isUndefined(position) ? markerPosition : position;\r\n\r\n\t\t\t\t\telement.siblings().removeClass('active');\r\n\t\t\t\t\telement.addClass('active');\r\n\r\n\t\t\t\t\tmap.panTo = pos;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t_initYouTubePlayer () {\r\n\t\t\"use strict\";\r\n\r\n\t\t$('.js-youtube-player').each(function () {\r\n\t\t\tlet dimmer = $('.js-dimmer');\r\n\r\n\t\t\tlet player = new $$.YouTubePlayer($('.js-youtube-player'), {\r\n\t\t\t\twidth:      '1101',\r\n\t\t\t\theight:     '620',\r\n\t\t\t\tvideoId:    $(this).data('id'),\r\n\t\t\t\tplayerVars: {\r\n\t\t\t\t\tdisablekb: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tlet form = $('.js-form-video');\r\n\r\n\t\t\tplayer.root.on('PlayerCreated', function () {\r\n\t\t\t\tdimmer.removeClass('active');\r\n\r\n\t\t\t\t$('.js-progress-time').progress({\r\n\t\t\t\t\tpercent: 0\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar interval = null;\r\n\r\n\t\t\t\tlet allTime = $$.secondsToTime(player.duration);\r\n\r\n\t\t\t\t$('.js-all-time').text(`${allTime.minutes}:${allTime.sec}`);\r\n\r\n\t\t\t\tplayer.root.on('PlayerStateChange', function () {\r\n\r\n\t\t\t\t\tif (player.playerState === 1) {\r\n\t\t\t\t\t\tinterval = setInterval(() => {\r\n\t\t\t\t\t\t\tlet currentTime = parseInt(player.CurrentTime);\r\n\t\t\t\t\t\t\tlet duration = parseInt(player.duration);\r\n\r\n\t\t\t\t\t\t\tlet allTime = $$.secondsToTime(player.CurrentTime);\r\n\t\t\t\t\t\t\t$('.js-current-time').text(`${allTime.minutes}:${allTime.sec}`);\r\n\r\n\t\t\t\t\t\t\t$('.js-progress-time').progress({\r\n\t\t\t\t\t\t\t\tpercent: parseInt(((currentTime / duration) * 100))\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tform.on('click', '.js-play', function (event) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tplayer.playVideo();\r\n\r\n\t\t\t\t\t$(this).addClass('active').siblings().removeClass('active');\r\n\t\t\t\t});\r\n\r\n\t\t\t\tform.on('click', '.js-pause', function (event) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tplayer.pauseVideo();\r\n\r\n\t\t\t\t\t$(this).addClass('active').siblings().removeClass('active');\r\n\t\t\t\t});\r\n\r\n\t\t\t\tform.on('click', '.js-stop', function (event) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tplayer.stopVideo();\r\n\r\n\t\t\t\t\t$(this).addClass('active').siblings().removeClass('active');\r\n\t\t\t\t});\r\n\r\n\t\t\t\tform.on('click', '.js-mute', function (event) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tplayer.mute = !player.isMuted();\r\n\r\n\t\t\t\t\tif (player.isMuted()) {\r\n\t\t\t\t\t\t$(this).find('.icon').removeClass('volume off');\r\n\t\t\t\t\t\t$(this).find('.icon').addClass('volume up');\r\n\t\t\t\t\t\t$('.js-volume').removeClass('disabled');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(this).find('.icon').removeClass('volume up');\r\n\t\t\t\t\t\t$(this).find('.icon').addClass('volume off');\r\n\t\t\t\t\t\t$('.js-volume').addClass('disabled');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$('.js-volume').progress({\r\n\t\t\t\t\tpercent: player.volume\r\n\t\t\t\t});\r\n\r\n\t\t\t\tform.on('click', '.js-volume-minus', function (event) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tif (player.volume === 0) {\r\n\t\t\t\t\t\t$('.js-volume').progress({\r\n\t\t\t\t\t\t\tpercent: 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tplayer.volume -= 10;\r\n\r\n\t\t\t\t\t$('.js-volume').progress({\r\n\t\t\t\t\t\tpercent: player.volume\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tform.on('click', '.js-volume-plus', function (event) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tif (player.volume === 100) {\r\n\t\t\t\t\t\t$('.js-volume').progress({\r\n\t\t\t\t\t\t\tpercent: 100\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tplayer.volume += 10;\r\n\r\n\t\t\t\t\t$('.js-volume').progress({\r\n\t\t\t\t\t\tpercent: player.volume\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\n$(function () {\r\n\t$$.window = $(window);\r\n\t$$.body = $(document.body);\r\n\t$$.windowWidth = $$.window.width();\r\n\t$$.windowHeight = $$.window.height();\r\n\t$$.ESCAPE_KEY_CODE = 27;\r\n\r\n\t$$.window.on('resize', function () {\r\n\t\t$$.windowWidth = $$.window.width();\r\n\t\t$$.windowHeight = $$.window.height();\r\n\t});\r\n\r\n\t$$.application = new Application();\r\n\r\n\t$$.window.resize();\r\n});\r\n"],"sourceRoot":"/source/"}